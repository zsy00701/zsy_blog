---
title: SSHå…å¯†ç™»é™†
date: '2025-12-17T02:39:00.592Z'
excerpt: >-
  # SSHå…å¯†ç™»é™† ## ä¸€ã€ä»€ä¹ˆæ˜¯ SSH å…å¯†ç™»å½•ï¼Ÿ SSH é»˜è®¤ç”¨å¯†ç ç™»å½•ã€‚ å…å¯†ç™»å½•é€šè¿‡ **å…¬é’¥ + ç§é’¥** è®¤è¯ï¼Œæ— éœ€è¾“å…¥å¯†ç ã€‚ -
  **ç§é’¥ï¼ˆid_rsaï¼‰**ï¼šä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸å¯æ³„éœ² - **å…¬é’¥ï¼ˆid_rsa.pubï¼‰**ï¼šæ”¾åœ¨æœåŠ¡å™¨çš„ `~/.ssh/authâ€¦
category: ç§‘ç ”ç¬¬ä¸€æ­¥
---
# SSHå…å¯†ç™»é™†

## ä¸€ã€ä»€ä¹ˆæ˜¯ SSH å…å¯†ç™»å½•ï¼Ÿ

SSH é»˜è®¤ç”¨å¯†ç ç™»å½•ã€‚
 å…å¯†ç™»å½•é€šè¿‡ **å…¬é’¥ + ç§é’¥** è®¤è¯ï¼Œæ— éœ€è¾“å…¥å¯†ç ã€‚

- **ç§é’¥ï¼ˆid_rsaï¼‰**ï¼šä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸å¯æ³„éœ²
- **å…¬é’¥ï¼ˆid_rsa.pubï¼‰**ï¼šæ”¾åœ¨æœåŠ¡å™¨çš„ `~/.ssh/authorized_keys`

ğŸ”‘ **åŸç†ç®€è¿°**ï¼š
 æœåŠ¡å™¨ç”¨ä½ çš„å…¬é’¥è§£å¯†ä½ ç”¨ç§é’¥åŠ å¯†çš„éšæœºæ•° â†’ è‹¥æˆåŠŸï¼Œå…è®¸ç™»å½•ã€‚

------

## äºŒã€SSH å…å¯†é…ç½®æ­¥éª¤

### **1. åœ¨å®¢æˆ·ç«¯ç”Ÿæˆå¯†é’¥å¯¹**

```
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

é»˜è®¤ç”Ÿæˆï¼š

```
~/.ssh/id_rsa
~/.ssh/id_rsa.pub
```

------

### **2. å°†å…¬é’¥å¤åˆ¶åˆ°æœåŠ¡å™¨**

#### æ–¹æ³•ä¸€ï¼ˆæ¨èï¼‰ï¼šssh-copy-id

```
ssh-copy-id user@server
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¤åˆ¶

å®¢æˆ·ç«¯ï¼š

```
cat ~/.ssh/id_rsa.pub
```

æœåŠ¡å™¨ï¼š

```
mkdir -p ~/.ssh
chmod 700 ~/.ssh
echo å…¬é’¥å†…å®¹ >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
```

------

### **3. æµ‹è¯•å…å¯†ç™»å½•**

```
ssh user@server
```

------

## ä¸‰ã€å¸¸è§é—®é¢˜

### 1. *ä»ç„¶éœ€è¦è¾“å…¥å¯†ç ï¼Ÿ*

æ£€æŸ¥æƒé™ï¼š

```
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

æ£€æŸ¥ `/etc/ssh/sshd_config`ï¼š

```
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys
```

é‡å¯ SSHï¼š

```
sudo systemctl restart sshd
```

------

### 2. *å¯†é’¥ç±»å‹é€‰æ‹©*

- `rsa`ï¼šå…¼å®¹æ€§å¼º
- `ed25519`ï¼šå®‰å…¨æ€§é«˜ï¼Œæ¨è
   ç”Ÿæˆæ–¹å¼ï¼š

```
ssh-keygen -t ed25519
```

------

### 3. *å¤šæœåŠ¡å™¨ç®¡ç†ï¼ˆå¯é€‰ï¼‰*

ç¼–è¾‘ `~/.ssh/config`ï¼š

```
Host myserver
    HostName 192.168.1.10
    User root
    IdentityFile ~/.ssh/id_rsa
```

ä½¿ç”¨ï¼š

```
ssh myserver
```

------

## å››ã€æ€»ç»“

SSH å…å¯†ç™»å½•æ ¸å¿ƒæ­¥éª¤ï¼š

1. æœ¬åœ°ç”Ÿæˆå¯†é’¥å¯¹
2. æŠŠå…¬é’¥æ”¾åˆ°æœåŠ¡å™¨çš„ `authorized_keys`
3. ä¿è¯ `.ssh` ç›®å½•æƒé™æ­£ç¡®
4. SSH é…ç½®å¼€å¯å…¬é’¥è®¤è¯
